<!DOCTYPE html>
<html>
<head>
	<title>双向绑定DEMO</title>
	<meta charset="utf-8">
</head>
<body>
	<form class="form">
		<p>name<input type="text" name="name" class="name"></p>
		<p>age<input type="text" name="age" class="age"></p>
	</form>
	<script type="text/javascript">
		let form = document.querySelector('.form');
		let person = {
            _data: {
            	name: '',
            	age: ''
            }
		};
		Object.defineProperty(person, 'name', {
			get () {
				console.log('name被获取了');
				return person._data.name;
			},
			set (value) {
				console.log('name被修改了',person);
				let name = document.querySelector('.name');
				name.value = value ;
				person._data.name = value;
			}
		});
		Object.defineProperty(person, 'age', {
			get () {
				console.log('age被获取了');
				return person._data.age;
			},
			set (value) {
				console.log('age被修改了',person);
				let age = document.querySelector('.age');
				age.value = value;
				person._data.name = value;
			}
		});
		form.addEventListener('input', (e) => {
			let value = e.target.value;
			let name = e.target.getAttribute('name');
			person[name] = value;
		});
	</script>

</body>
</html>